
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>soprano.hpc.submitter.submit &#8212; Soprano</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script >const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script >mermaid.initialize({startOnLoad:true});</script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="soprano.hpc.submitter.utils" href="soprano.hpc.submitter.utils.html" />
    <link rel="prev" title="soprano.hpc.submitter.queues" href="soprano.hpc.submitter.queues.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/soprano_logo.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Soprano</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    About
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tutorials.html">
   Tutorials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/01-basic_concepts.html">
     Tutorial 1 - Basic concepts: using AtomsCollection objects
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/02-generators_properties_calculators.html">
     Tutorial 2 - Generators, Properties and Calculators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/03-atomselection_transforms.html">
     Tutorial 3 - AtomSelection and transforms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/04-clustering.html">
     Tutorial 4 - Clustering analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/05-nmr.html">
     Tutorial 5 - NMR Properties: using Soprano for working with .magres files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/06-defect_calculations.html">
     Tutorial 6 - Soprano for defect calculations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../submitter.html">
   Job Submitter
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../api.html">
   API reference
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="soprano.html">
     soprano
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="soprano.analyse.html">
       soprano.analyse
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
      <label for="toctree-checkbox-4">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.analyse.phylogen.html">
         soprano.analyse.phylogen
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="soprano.calculate.html">
       soprano.calculate
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.calculate.gulp.html">
         soprano.calculate.gulp
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.calculate.nmr.html">
         soprano.calculate.nmr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.calculate.powder.html">
         soprano.calculate.powder
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.calculate.xrd.html">
         soprano.calculate.xrd
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="soprano.collection.html">
       soprano.collection
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
      <label for="toctree-checkbox-6">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.collection.collection.html">
         soprano.collection.collection
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.collection.generate.html">
         soprano.collection.generate
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="soprano.data.html">
       soprano.data
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
      <label for="toctree-checkbox-7">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.data.nmr.html">
         soprano.data.nmr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.data.vdw.html">
         soprano.data.vdw
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 current active has-children">
      <a class="reference internal" href="soprano.hpc.html">
       soprano.hpc
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l4 current active">
        <a class="reference internal" href="soprano.hpc.submitter.html">
         soprano.hpc.submitter
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="soprano.measure.html">
       soprano.measure
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="soprano.nmr.html">
       soprano.nmr
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.nmr.tensor.html">
         soprano.nmr.tensor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.nmr.utils.html">
         soprano.nmr.utils
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="soprano.optional.html">
       soprano.optional
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="soprano.properties.html">
       soprano.properties
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.atomsproperty.html">
         soprano.properties.atomsproperty
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.basic.html">
         soprano.properties.basic
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.castep.html">
         soprano.properties.castep
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.labeling.html">
         soprano.properties.labeling
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.linkage.html">
         soprano.properties.linkage
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.map.html">
         soprano.properties.map
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.nmr.html">
         soprano.properties.nmr
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.order.html">
         soprano.properties.order
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.symmetry.html">
         soprano.properties.symmetry
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.properties.transform.html">
         soprano.properties.transform
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="soprano.rnd.html">
       soprano.rnd
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="soprano.scripts.html">
       soprano.scripts
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.scripts.msaverage.html">
         soprano.scripts.msaverage
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.scripts.phylogen.html">
         soprano.scripts.phylogen
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="soprano.scripts.vasp2cell.html">
         soprano.scripts.vasp2cell
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="soprano.selection.html">
       soprano.selection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="soprano.utils.html">
       soprano.utils
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../citing.html">
   Citing Soprano
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            A Python library to crack crystals
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/CCP-NC/soprano"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/CCP-NC/soprano/issues/new?title=Issue%20on%20page%20%2F_autosummary/soprano.hpc.submitter.submit.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/_autosummary/soprano.hpc.submitter.submit.rst"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>soprano.hpc.submitter.submit</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="module-soprano.hpc.submitter.submit">
<span id="soprano-hpc-submitter-submit"></span><h1>soprano.hpc.submitter.submit<a class="headerlink" href="#module-soprano.hpc.submitter.submit" title="Permalink to this headline">¶</a></h1>
<p>Definition of Submitter class</p>
<p>Base class for all Submitters to inherit from.</p>
<p class="rubric">Classes</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#soprano.hpc.submitter.submit.Submitter" title="soprano.hpc.submitter.submit.Submitter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Submitter</span></code></a>(name, queue, submit_script[, …])</p></td>
<td><p>Submitter object</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="soprano.hpc.submitter.submit.Submitter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">soprano.hpc.submitter.submit.</span></code><code class="sig-name descname"><span class="pre">Submitter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_script</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_getfiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['*.*']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ssh_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continuation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Submitter object</p>
<p>Template to derive all specialised Submitters. These are meant to generate,
submit and post-process any number of jobs on a queueing system in the form
of a background process running on a head node. It implements
methods that should be mostly overridden by the child classes.
The following methods define its core behaviour:</p>
<ol class="arabic simple">
<li><p>next_job is the function that outputs the specification for each new job
to submit. The specification should be a dict with two members, ‘name’
(a string) and ‘args’ (ideally a dict). If no more jobs are available
it should return None;</p></li>
<li><p>setup_job takes as arguments name, args and folder (a temporary one
created independently) and is supposed to generate the input files
for the job before submission. It returns a boolean, confirming that
the setup went well; if False, the job will be skipped;</p></li>
<li><p>check_job takes as arguments job ID, name, args and folder and should
return a bool confirmation of whether the job has finished or not. By
default it simply checks whether the job is still listed in the queue,
however other checks can be implemented in its place;</p></li>
<li><p>finish_job takes as arguments name, args and folder and takes care of
the post processing once a job is complete. Here meaningful data should
be extracted and useful files copied to permament locations, as the
temporary folder will be deleted immediately afterwards. It returns
nothing;</p></li>
<li><p>start_run takes no arguments, executes at the beginning of a run;</p></li>
<li><p>finish_run takes no arguments, executes at the end of a run.</p></li>
<li><p>save_state takes no arguments, returns a dict. It is executed when
continuation=True is used and a run terminates. It will allow the user
to add class-specific data to the dictionary that is stored in the
pickle file (in addition to the default, namely the list and info on
currently running jobs). This should be used for example to store state
information that is necessary for job generation. It should be composed
of serialisable objects.</p></li>
<li><p>load_state takes as arguments the loaded data in dictionary form. It
should perform the reverse operation of save_state, grabbing the info
and restoring the Submitter’s state to its previous condition.</p></li>
</ol>
<p>In addition, the Submitter takes a template launching script which can
be tagged with keywords, mainly &lt;name&gt; for the job name or any other
arguments present in args. These will be replaced with the appropriate
values when the script is submitted.</p>
<p>Initialize the Submitter object</p>
<div class="line-block">
<div class="line">Args:</div>
<div class="line-block">
<div class="line">name (str): name to be used for this Submitter (two Submitters</div>
<div class="line-block">
<div class="line">with the same name can’t be launched in the same</div>
<div class="line">working directory)</div>
</div>
<div class="line">queue (QueueInterface): object describing the properties of the</div>
<div class="line-block">
<div class="line">interface to the queue system in use</div>
</div>
<div class="line">submit_script (str): text of the script to use when submitting a</div>
<div class="line-block">
<div class="line">job to the queue. All tags of the form &lt;name&gt;</div>
<div class="line">will be replaced with the job’s name, and all</div>
<div class="line">similar tags of the form &lt;[arg]&gt; will be</div>
<div class="line">replaced if the argument name is present in</div>
<div class="line">the job’s args dictionary</div>
</div>
<div class="line">max_jobs (Optional[int]): maximum number of jobs to submit at a</div>
<div class="line-block">
<div class="line">given time. Default is 4</div>
</div>
<div class="line">check_time (Optional[float]): time in seconds between consecutive</div>
<div class="line-block">
<div class="line">checks for the queue status and</div>
<div class="line">attempts to submit new jobs. Default</div>
<div class="line">is 10</div>
</div>
<div class="line">max_time (Optional[float]): time in seconds the Submitter will run</div>
<div class="line-block">
<div class="line">for before shutting down. If set to</div>
<div class="line">zero the thread won’t stop until</div>
<div class="line">killed with Submitter.stop.</div>
</div>
<div class="line">temp_folder (Optional[str]): where to store the temporary folders</div>
<div class="line-block">
<div class="line">for the calculations. By default it’s</div>
<div class="line">the current folder.</div>
</div>
<div class="line">remote_workdir (Optional[str]): if present, uses a directory on a</div>
<div class="line-block">
<div class="line">remote machine by logging in via</div>
<div class="line">SSH. Must be in the format</div>
<div class="line">&lt;host&gt;:&lt;path/to/directory&gt;.</div>
<div class="line">Host must be defined in the user’s</div>
<div class="line">~/.ssh/config file - check the</div>
<div class="line">docs for RemoteTarget for more</div>
<div class="line">information. It is possible to</div>
<div class="line">omit the colon and directory, that</div>
<div class="line">will use the home directory of the</div>
<div class="line">given folder; that is HEAVILY</div>
<div class="line">DISCOURAGED though. Best practice</div>
<div class="line">would be to create an empty</div>
<div class="line">directory on the remote machine</div>
<div class="line">and use that, to avoid accidental</div>
<div class="line">overwriting/deleting of important</div>
<div class="line">files.</div>
</div>
<div class="line">remote_getfiles (Optional[list(str)]): list of files to be</div>
<div class="line-block">
<div class="line">downloaded from the remote</div>
<div class="line">copy of the job’s temporary</div>
<div class="line">directory. By default, all</div>
<div class="line">of them. Can be a list</div>
<div class="line">using specific names,</div>
<div class="line">wildcards etc. Filenames</div>
<div class="line">can also use the</div>
<div class="line">placeholder {name} to</div>
<div class="line">signify the job name, as</div>
<div class="line">well as any other element</div>
<div class="line">from the arguments.</div>
</div>
<div class="line">ssh_timeout (Optional[float]): connection timeout in seconds</div>
<div class="line-block">
<div class="line">(default is 1 second)</div>
</div>
<div class="line">continuation (Optional[bool]): if True, when the Submitter is</div>
<div class="line-block">
<div class="line">stopped it will not terminate the</div>
<div class="line">current jobs; rather, it will store</div>
<div class="line">the list in a pickle file.</div>
<div class="line">If the submitter is ran from the</div>
<div class="line">same folder then it will “pick up</div>
<div class="line">from where it left” and try</div>
<div class="line">recovering those jobs, then</div>
<div class="line">restart. If one wishes for</div>
<div class="line">additional values to be saved and</div>
<div class="line">restored, the save_state and</div>
<div class="line">load_state methods need to be</div>
<div class="line">defined.</div>
</div>
</div>
</div>
<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter._main_loop">
<code class="sig-name descname"><span class="pre">_main_loop</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter._main_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter._main_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Main loop run as separate thread. Should not be edited when
inheriting from the class</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter._putjob_remote">
<code class="sig-name descname"><span class="pre">_putjob_remote</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">njob</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter._putjob_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter._putjob_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the files generated for a job to a remote work directory</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.add_signal">
<code class="sig-name descname"><span class="pre">add_signal</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.add_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.add_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a signal listener to this submitter. Unix systems only allow
for up to TWO user-defined signals to be specified.</p>
<div class="line-block">
<div class="line">Args:</div>
<div class="line-block">
<div class="line">command (str): command that should be used to call this signal.</div>
<div class="line-block">
<div class="line">This would be used as:</div>
<div class="line">python -m soprano.hpc.submitter &lt;command&gt; &lt;file&gt;</div>
<div class="line">and will trigger the callback’s execution</div>
</div>
<div class="line">callback (function&lt;self&gt; =&gt; None): method of the user defined</div>
<div class="line-block">
<div class="line">Submitter class to use as a callback when the</div>
<div class="line">given signal is sent. Should accept and return</div>
<div class="line">nothing.</div>
</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.check_job">
<code class="sig-name descname"><span class="pre">check_job</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.check_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.check_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if given job is complete or not</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.finish_job">
<code class="sig-name descname"><span class="pre">finish_job</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.finish_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.finish_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs completion operations on the job. At this point any
relevant output files should be copied from ‘folder’ to their final
destination as the temporary folder itself will be deleted immediately
after</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.finish_run">
<code class="sig-name descname"><span class="pre">finish_run</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.finish_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.finish_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Operations to perform after the daemon thread stops running</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.load_state">
<code class="sig-name descname"><span class="pre">load_state</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loaded</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.load_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.load_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace attributes from loaded data in dictionary form</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.next_job">
<code class="sig-name descname"><span class="pre">next_job</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.next_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.next_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary definition of the next job in line</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.remove_signal">
<code class="sig-name descname"><span class="pre">remove_signal</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.remove_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.remove_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a previously defined custom signal by its assigned command.</p>
<div class="line-block">
<div class="line">Args:</div>
<div class="line-block">
<div class="line">command (str): command assigned to the signal handler to remove.</div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.save_state">
<code class="sig-name descname"><span class="pre">save_state</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.save_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.save_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary containing serialisable data to be saved from
one run to the next</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.set_parameters">
<code class="sig-name descname"><span class="pre">set_parameters</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.set_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.set_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set additional parameters. In this generic example class it has
no arguments, but in specific implementations it will be used to
add more variables without overriding __init__.</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.setup_job">
<code class="sig-name descname"><span class="pre">setup_job</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.setup_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.setup_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform preparatory operations on the job</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.start_run">
<code class="sig-name descname"><span class="pre">start_run</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.start_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.start_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Operations to perform when the daemon thread starts running</p>
</dd></dl>

<dl class="py method">
<dt id="soprano.hpc.submitter.submit.Submitter.stop">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">stop</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/soprano/hpc/submitter/submit.html#Submitter.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#soprano.hpc.submitter.submit.Submitter.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop Submitter process from filename and name,
return False if failed</p>
</dd></dl>

</dd></dl>

</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./_autosummary"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="soprano.hpc.submitter.queues.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">soprano.hpc.submitter.queues</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="soprano.hpc.submitter.utils.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">soprano.hpc.submitter.utils</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By CCP-NC<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>